<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="discuss"> 
      <resultMap type="dsvo" id="discussListRM">
		<result property="discussionNo" column="discussion_no" />			
		<result property="discussionDate" column="discussion_date" /> 
		<result property="discussionDate" column="discussion_date" /> 
		<result property="discussionSubject" column="discussion_subject" /> 
	</resultMap>
	<select id="getAllDiscussList" resultMap="discussListRM">
		<!-- select d.discussion_no,d.id,d.title,d.content,d.discussion_date,d.hit,d.discussion_subject,dc.discussion_comment_no,dc.id,dc.discussion_no,dc.content,dc.discussion_comment_date,dc.ref,dc.restep,dc.relevel from DISCUSSION d, DISCUSSION_COMMENT dc where d.id=dc.id -->
		select discussion_no,id,title,content,to_char(discussion_date,'YYYY.MM.DD') as discussion_date,hit,discussion_subject from DISCUSSION
	</select>
	<select id="totalContent" resultType="int">
		select count(*)  from DISCUSSION d, DISCUSSION_COMMENT dc where d.id=dc.id
	</select>
	<select id="findDiscussContent" resultMap="discussListRM">
		select d.discussion_no,d.id,d.title,d.content,d.discussion_date,d.hit,d.discussion_subject,dc.discussion_comment_no,dc.id,dc.discussion_no,dc.content,dc.discussion_comment_date,dc.ref,dc.restep,dc.relevel from DISCUSSION d, DISCUSSION_COMMENT dc where d.id=dc.id  and d.discussion_no=#{value}
	</select>
 </mapper> 		
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
















